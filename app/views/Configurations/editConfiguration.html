#{extends 'main.html' /}

#{if configuration}
#{set title:messages.get('configuration.edit.title') /}
#{/if}

<!-- /.row -->
<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-body">
                #{form (configuration?.id) ? @Configurations.save() : "", method:"POST", id:"form", role:"form", enctype: "multipart/form-data"}

                <div class="row">
                    <div class="col-md-6">
                        <table class="table table-striped table-bordered">
                            <thead>
                            <tr>
                                <th>&{'host.name'}</th>
                                <th>&{'host.ip'}</th>
                                <th>&{'host.status'}</th>
                                <th>&{'host.configuration'}</th>
                            </tr>
                            </thead>
                            <tbody>
                            #{list configurationDto?.data?.hosts, as: 'host'}
                            <tr>
                                <td>${host.name}</td>
                                <td>${host.ip}</td>
                                <td>${messages.get(host.status)}</td>
                                <td>
                                    <input type="hidden" name="host.name" value="${host.name}"/>
                                    <select name="host.type">
                                        <option value="${models.RemoteHost.RecoveryType.NONE}" ${(host.type == models.RemoteHost.RecoveryType.NONE) ? 'selected' : '' }>&{'none'}</option>
                                        <option value="${models.RemoteHost.RecoveryType.FAILOVER}" ${(host.type == models.RemoteHost.RecoveryType.FAILOVER) ? 'selected' : '' }>&{'failover.remotehost'}</option>
                                        <option value="${models.RemoteHost.RecoveryType.FAILBACK}" ${(host.type == models.RemoteHost.RecoveryType.FAILBACK) ? 'selected' : '' }>&{'failback.remotehost'}</option>
                                    </select>
                                </td>
                            </tr>
                            #{/list}
                            </tbody>
                        </table>
                    </div>

                    <div class="col-md-6">
                        <select id="origin" multiple></select>
                        <select id="available" multiple></select>
                        <select id="destination" multiple></select>
                    </div>
                </div>

                <div class="row">
                    <div class="col-lg-6">

                    </div>
                    <div class="col-lg-6">

                    </div>
                </div>

                <button type="submit" class="btn btn-default pull-right">&{'form.save'}</button>

                #{/form}
                <!-- /.form -->
            </div>
            <!-- /.panel-body -->
        </div>
        <!-- /.panel -->
    </div>
    <!-- /.col-lg-12 -->
</div>
<!-- /.row -->